(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{304:function(a,s,t){"use strict";t.r(s);var n=t(14),e=Object(n.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"boas-praticas"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#boas-praticas"}},[a._v("#")]),a._v(" Boas práticas")]),a._v(" "),s("p",[a._v("A seguir, apresentamos um conjunto de práticas recomendadas pela QuickData. Segui-las garantirá uma melhor qualidade dos dados e, consequentemente, dos serviços prestados pela QuickData.")]),a._v(" "),s("h2",{attrs:{id:"_1-cadastro"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-cadastro"}},[a._v("#")]),a._v(" 1 - Cadastro")]),a._v(" "),s("h3",{attrs:{id:"_1-1-assinante"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-assinante"}},[a._v("#")]),a._v(" 1.1 - Assinante")]),a._v(" "),s("ul",[s("li",[a._v("O ID do assinante (assinanteId/subscriberId) deve corresponder ao CNPJ da matriz de uma cadeia de lojas.")]),a._v(" "),s("li",[a._v('Os campos "nome" e "fantasia" referem-se, respectivamente, à razão social e ao nome fantasia do assinante.')])]),a._v(" "),s("h3",{attrs:{id:"_1-2-lojas"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-lojas"}},[a._v("#")]),a._v(" 1.2 - Lojas")]),a._v(" "),s("ul",[s("li",[a._v("A relação entre assinante e lojas é de 1 para N, ou seja, um único assinante deve conter todas as lojas.")]),a._v(" "),s("li",[a._v('O campo "numeroDocumento" e o ID da loja (lojaId) devem corresponder ao CNPJ da loja.')]),a._v(" "),s("li",[a._v('É importante preencher o campo "qtdCheckouts" com o valor correto, pois isso será necessário para comparações entre lojas de mesmo porte.')])]),a._v(" "),s("h3",{attrs:{id:"_1-3-produtos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-produtos"}},[a._v("#")]),a._v(" 1.3 - Produtos")]),a._v(" "),s("ul",[s("li",[a._v("Conforme mencionado anteriormente na Visão Geral, um produto deve conter apenas um único código de barras EAN.")]),a._v(" "),s("li",[a._v('A descrição do produto deve ser o mais precisa possível, evitando descrições genéricas como "REFRI. COLA".')])]),a._v(" "),s("h2",{attrs:{id:"_2-envio-de-dados-stream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-envio-de-dados-stream"}},[a._v("#")]),a._v(" 2 - Envio de dados (Stream)")]),a._v(" "),s("h3",{attrs:{id:"_2-1-duplicacao-de-dados"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-duplicacao-de-dados"}},[a._v("#")]),a._v(" 2.1 - Duplicação de dados")]),a._v(" "),s("ul",[s("li",[a._v("É importante que o parceiro evite enviar os mesmos dados, sejam vendas ou dados cadastrais, várias vezes, sem nenhuma alteração.")])]),a._v(" "),s("h3",{attrs:{id:"_2-2-cadastro-e-processamento"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-cadastro-e-processamento"}},[a._v("#")]),a._v(" 2.2 - Cadastro e processamento")]),a._v(" "),s("ul",[s("li",[a._v("Após o envio dos dados, leva-se aproximadamente de 15 a 20 minutos para que sejam processados.")])]),a._v(" "),s("h3",{attrs:{id:"_2-3-envio-de-dados-pendentes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-envio-de-dados-pendentes"}},[a._v("#")]),a._v(" 2.3 - Envio de dados pendentes")]),a._v(" "),s("p",[a._v("É possível consultar e enviar "),s("strong",[a._v("dados pendentes")]),a._v(" que ainda não foram processados com sucesso pela API Panamah.\nAtualmente, essa funcionalidade está disponível apenas para "),s("strong",[a._v("produtos")]),a._v(".")]),a._v(" "),s("p",[a._v("Como o envio dos diferentes modelos de dados é independente e ocorre de forma assíncrona, pode acontecer de os dados de venda ficarem incompletos no servidor se um ou mais produtos relacionados ainda não tiverem sido enviados. Essa chamada permite identificar e enviar esses produtos pendentes, garantindo que as vendas fiquem completas.")]),a._v(" "),s("p",[a._v("A função de envio de dados pendentes é importante justamente para atenuar esses problemas e garantir que as informações de venda fiquem o mais completas possível.\nPor isso, é necessário acionar esse recurso periodicamente (ex: uma vez ao dia).")]),a._v(" "),s("p",[a._v("Os dados pendentes podem ser consultados:")]),a._v(" "),s("ul",[s("li",[s("strong",[a._v("Via SDKs")]),a._v(" (Delphi, Java e JavaScript)")]),a._v(" "),s("li",[s("strong",[a._v("Via Panamah "),s("a",{attrs:{href:"https://core-docs.panamah.io/#operation/getPendingResources",target:"_blank",rel:"noopener noreferrer"}},[a._v("API core"),s("OutboundLink")],1)])])]),a._v(" "),s("p",[a._v("A resposta sempre retorna uma lista de pendências organizadas por "),s("strong",[a._v("assinante")]),a._v(" e "),s("strong",[a._v("tipo de recurso")]),a._v(" (ex.: "),s("code",[a._v("PRODUTO")]),a._v(").\nCada item contém:")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("assinanteId")]),a._v(" → Identificador do assinante que possui pendências")]),a._v(" "),s("li",[s("code",[a._v("models")]),a._v(" ou "),s("code",[a._v("ids")]),a._v(" → Lista de modelos ou identificadores dos recursos pendentes (normalmente produtos ainda não sincronizados)")])]),a._v(" "),s("p",[a._v("Esses objetos podem ser usados para:")]),a._v(" "),s("ul",[s("li",[a._v("Conferir quais registros ainda não foram enviados")]),a._v(" "),s("li",[a._v("Reprocessar/envia-los novamente")]),a._v(" "),s("li",[a._v("Monitorar consistência dos dados entre sua base e a Panamah")])]),a._v(" "),s("hr"),a._v(" "),s("h4",{attrs:{id:"_2-3-1-delphi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-delphi"}},[a._v("#")]),a._v(" 2.3.1 - Delphi")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("Obtenha a instância do stream:")]),a._v(" "),s("div",{staticClass:"language-pascal extra-class"},[s("pre",{pre:!0,attrs:{class:"language-pascal"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" Stream "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":=")]),a._v(" TPanamahStream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("GetInstance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("Configure um callback de erro, se desejar:")]),a._v(" "),s("div",{staticClass:"language-pascal extra-class"},[s("pre",{pre:!0,attrs:{class:"language-pascal"}},[s("code",[a._v("Stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("OnError "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("procedure")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("E"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Exception"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("begin")]),a._v("\n  Writeln"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Erro: '")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" E"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("Message")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("Inicialize o SDK:")]),a._v(" "),s("div",{staticClass:"language-pascal extra-class"},[s("pre",{pre:!0,attrs:{class:"language-pascal"}},[s("code",[a._v("Stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Init"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("authorizationToken"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" secret"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" assinanteId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("Busque as pendências:")]),a._v(" "),s("div",{staticClass:"language-pascal extra-class"},[s("pre",{pre:!0,attrs:{class:"language-pascal"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" Pending "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":=")]),a._v(" Stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("GetPendingResources"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("Itere sobre os resultados:")]),a._v(" "),s("div",{staticClass:"language-pascal extra-class"},[s("pre",{pre:!0,attrs:{class:"language-pascal"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" I "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("to")]),a._v(" Pending"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Count "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("begin")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" Group "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":=")]),a._v(" Pending"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("PendingResources"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("I"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" J "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("to")]),a._v(" Group"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Count "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("begin")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" Model "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":=")]),a._v(" Group"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("J"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    Writeln"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("SerializeToJSON"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// inspeciona o id ou todo o JSON do produto pendente")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])])]),a._v(" "),s("hr"),a._v(" "),s("h4",{attrs:{id:"_2-3-2-java"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-java"}},[a._v("#")]),a._v(" 2.3.2 - Java")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("Configure e autentique:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("PanamahConfig")]),a._v(" config "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("PanamahConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("fromEnv")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"staging"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("PanamahUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("auth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("Obtenha pendências (paginado):")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("PanamahPendencias")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" pendencias "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("PanamahUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("pending")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("Percorra os assinantes e tipos:")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Map"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Entry")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("PanamahPendencias")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" entry "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" pendencias"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("entrySet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" assinanteId "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" entry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getKey")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("PanamahPendencias")]),a._v(" lista "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" entry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Assinante: "')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" assinanteId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" idProduto "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" lista"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getProdutos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Produto pendente: "')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" idProduto"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// aqui você pode reenviar esse produto para o stream")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])]),a._v(" "),s("blockquote",[s("p",[a._v("⚠️ Caso a autenticação expire, o SDK automaticamente renova o token e repete a requisição.")])]),a._v(" "),s("hr"),a._v(" "),s("h4",{attrs:{id:"_2-3-3-javascript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-javascript"}},[a._v("#")]),a._v(" 2.3.3 - JavaScript")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("Inicialize o stream (single-tenant ou multi-tenant):")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" PanamahStream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  authorizationToken"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  secret"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  assinanteId "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ou omita em multi-tenant")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("Busque pendências:")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" pendencias "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" PanamahStream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getPendingResources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("Itere e processe os modelos:")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[a._v("pendencias"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=>")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Assinante:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("assinanteId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("models"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("model")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=>")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Produto pendente:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Exemplo: reenviar manualmente ou logar para auditoria")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("Finalize garantindo envio/limpeza de buffer:")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" PanamahStream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("flush")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])])]),a._v(" "),s("h2",{attrs:{id:"_3-portal-do-parceiro"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-portal-do-parceiro"}},[a._v("#")]),a._v(" 3 - Portal do parceiro")]),a._v(" "),s("h3",{attrs:{id:"_3-1-acesso-ao-portal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-acesso-ao-portal"}},[a._v("#")]),a._v(" 3.1 - Acesso ao portal")]),a._v(" "),s("ul",[s("li",[a._v('Ao solicitar acesso ao nosso portal, você receberá um usuário e uma senha e poderá ter acesso a algumas telas, em especial à tela "Subida de dados". Além das informações cadastrais, essa tela exibe a "Quantidade de vendas" no período especificado, bem como o "Último recebimento". É importante verificar se um ou mais assinantes estão enviando dados por meio do portal.')])]),a._v(" "),s("blockquote",[s("p",[a._v("Em relação à periodicidade da análise de recebimento, ela é sempre feita no dia anterior (D-1). Isso significa que analisaremos todos os dados recebidos no dia anterior. Estamos estudando práticas para diminuir essa periodicidade e tornar o processo o mais próximo possível do tempo real.")])])])}),[],!1,null,null,null);s.default=e.exports}}]);